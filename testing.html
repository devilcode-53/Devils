<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battery Info Link Generator</title>
    <script>
        function generateLink() {
            const uniqueID = Math.random().toString(36).substring(2, 8); // Random ID
            const url = window.location.origin + window.location.pathname + "?id=" + uniqueID;
            
            // Display the link
            document.getElementById("generatedLink").innerHTML = `
                <input type="text" value="${url}" id="linkBox" readonly>
                <button onclick="copyLink()">Copy Link</button>
            `;
        }

        function copyLink() {
            const linkBox = document.getElementById("linkBox");
            linkBox.select();
            document.execCommand("copy");
            alert("Link copied! Share it.");
        }

        async function showBatteryInfo() {
            if (new URLSearchParams(window.location.search).has("id")) {
                if ('getBattery' in navigator) {
                    const battery = await navigator.getBattery();
                    const level = Math.round(battery.level * 100) + "%";
                    const charging = battery.charging ? "Yes" : "No";
                    const userAgent = navigator.userAgent;

                    document.body.innerHTML = `
                        <h2>ðŸ“Š Device Info</h2>
                        <p><b>ðŸ”‹ Battery:</b> ${level}</p>
                        <p><b>âš¡ Charging:</b> ${charging}</p>
                        <p><b>ðŸ“± Device:</b> ${userAgent}</p>
                    `;
                } else {
                    document.body.innerHTML = "<h2>Battery info not supported on this device!</h2>";
                }
            }
        }
    </script>
</head>
<body onload="showBatteryInfo()">
    <h2>Battery Info Link Generator</h2>
    <button onclick="generateLink()">Generate Link</button>
    <p id="generatedLink"></p>
</body>
</html>
